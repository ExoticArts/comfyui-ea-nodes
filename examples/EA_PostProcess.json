{"id":"0228a755-2552-493e-9ba8-0ed5ec5ca2a4","revision":0,"last_node_id":178,"last_link_id":268,"nodes":[{"id":161,"type":"PreviewAnimation","pos":[1224.3284912109375,1024.2386474609375],"size":[823.18701171875,302],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"localized_name":"masks","name":"masks","shape":7,"type":"MASK","link":null},{"localized_name":"fps","name":"fps","type":"FLOAT","widget":{"name":"fps"},"link":null}],"outputs":[],"title":"Preview Animation e,m,p,t,y","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.3","Node name for S&R":"PreviewAnimation"},"widgets_values":[16]},{"id":163,"type":"PreviewAny","pos":[220,-90],"size":[210,88],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":259}],"outputs":[],"title":"Frame Count","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":168,"type":"PreviewAny","pos":[470,-90],"size":[210,88],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":260}],"outputs":[],"title":"Skip First","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":169,"type":"PreviewAny","pos":[720,-90],"size":[210,88],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":261}],"outputs":[],"title":"Skip Last","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":133,"type":"PreviewImage","pos":[1020,440],"size":[220,420],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":264}],"outputs":[],"title":"Preview Image (end frame)","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":132,"type":"PreviewImage","pos":[200,440],"size":[220,420],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":263}],"outputs":[],"title":"Preview Image (start frame)","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":174,"type":"EA_AutoTrimPingPong","pos":[-100,-170],"size":[270,558],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":258},{"localized_name":"metric_size","name":"metric_size","shape":7,"type":"INT","widget":{"name":"metric_size"},"link":null},{"localized_name":"smooth","name":"smooth","shape":7,"type":"INT","widget":{"name":"smooth"},"link":null},{"localized_name":"warmup_guard","name":"warmup_guard","shape":7,"type":"INT","widget":{"name":"warmup_guard"},"link":null},{"localized_name":"search_first_pct","name":"search_first_pct","shape":7,"type":"FLOAT","widget":{"name":"search_first_pct"},"link":null},{"localized_name":"search_last_pct","name":"search_last_pct","shape":7,"type":"FLOAT","widget":{"name":"search_last_pct"},"link":null},{"localized_name":"warmup_rel","name":"warmup_rel","shape":7,"type":"FLOAT","widget":{"name":"warmup_rel"},"link":null},{"localized_name":"min_keep","name":"min_keep","shape":7,"type":"INT","widget":{"name":"min_keep"},"link":null},{"localized_name":"trim_start","name":"trim_start","shape":7,"type":"BOOLEAN","widget":{"name":"trim_start"},"link":null},{"localized_name":"trim_end","name":"trim_end","shape":7,"type":"BOOLEAN","widget":{"name":"trim_end"},"link":null},{"localized_name":"min_skip_first","name":"min_skip_first","shape":7,"type":"INT","widget":{"name":"min_skip_first"},"link":null},{"localized_name":"min_skip_last","name":"min_skip_last","shape":7,"type":"INT","widget":{"name":"min_skip_last"},"link":null},{"localized_name":"emit_debug","name":"emit_debug","shape":7,"type":"BOOLEAN","widget":{"name":"emit_debug"},"link":null},{"localized_name":"debug_width","name":"debug_width","shape":7,"type":"INT","widget":{"name":"debug_width"},"link":null},{"localized_name":"emit_preview","name":"emit_preview","shape":7,"type":"BOOLEAN","widget":{"name":"emit_preview"},"link":null},{"localized_name":"preview_tiles","name":"preview_tiles","shape":7,"type":"INT","widget":{"name":"preview_tiles"},"link":null},{"localized_name":"dedupe_apex","name":"dedupe_apex","shape":7,"type":"BOOLEAN","widget":{"name":"dedupe_apex"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[265]},{"localized_name":"first_frame","name":"first_frame","type":"IMAGE","links":[263]},{"localized_name":"last_frame","name":"last_frame","type":"IMAGE","links":[264]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":[259]},{"localized_name":"skip_first","name":"skip_first","type":"INT","links":[260]},{"localized_name":"skip_last","name":"skip_last","type":"INT","links":[261]},{"localized_name":"debug_image","name":"debug_image","type":"IMAGE","links":[262]},{"localized_name":"preview_strip","name":"preview_strip","type":"IMAGE","links":null}],"properties":{"cnr_id":"ea-nodes","ver":"6a9dd4f57e8c2fcd47364c139e49891bdea33966","Node name for S&R":"EA_AutoTrimPingPong"},"widgets_values":[64,5,6,0.2,0.85,1.2,70,true,true,3,0,true,1024,false,8,true],"color":"#223","bgcolor":"#335"},{"id":166,"type":"EA_PingPong","pos":[970,-170],"size":[270,214],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":265},{"localized_name":"cycles","name":"cycles","shape":7,"type":"INT","widget":{"name":"cycles"},"link":null},{"localized_name":"dedupe_apex","name":"dedupe_apex","shape":7,"type":"BOOLEAN","widget":{"name":"dedupe_apex"},"link":null},{"localized_name":"hold_first","name":"hold_first","shape":7,"type":"INT","widget":{"name":"hold_first"},"link":null},{"localized_name":"hold_last","name":"hold_last","shape":7,"type":"INT","widget":{"name":"hold_last"},"link":null},{"localized_name":"preview_tiles","name":"preview_tiles","shape":7,"type":"INT","widget":{"name":"preview_tiles"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[266]},{"localized_name":"preview_strip","name":"preview_strip","type":"IMAGE","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null}],"properties":{"cnr_id":"ea-nodes","ver":"6a9dd4f57e8c2fcd47364c139e49891bdea33966","Node name for S&R":"EA_PingPong"},"widgets_values":[1,true,0,0,16],"color":"#223","bgcolor":"#335"},{"id":177,"type":"STMFNet VFI","pos":[1310,40],"size":[316.0859375,150],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":267},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":null},{"localized_name":"duplicate_first_last_frames","name":"duplicate_first_last_frames","type":"BOOLEAN","widget":{"name":"duplicate_first_last_frames"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[268]}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"1.0.7","Node name for S&R":"STMFNet VFI"},"widgets_values":["stmfnet.pth",10,2,false],"color":"#233","bgcolor":"#355"},{"id":175,"type":"STMFNet VFI","pos":[1310,-170],"size":[316.0859375,150],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":266},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":null},{"localized_name":"duplicate_first_last_frames","name":"duplicate_first_last_frames","type":"BOOLEAN","widget":{"name":"duplicate_first_last_frames"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[267]}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"1.0.7","Node name for S&R":"STMFNet VFI"},"widgets_values":["stmfnet.pth",10,2,false],"color":"#233","bgcolor":"#355"},{"id":160,"type":"PreviewImage","pos":[200,130],"size":[1040,260],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":262}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":171,"type":"EA_ManifestIndex","pos":[-730,-170],"size":[270,162],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[{"localized_name":"manifest_json","name":"manifest_json","type":"STRING","widget":{"name":"manifest_json"},"link":251},{"localized_name":"index","name":"index","type":"INT","widget":{"name":"index"},"link":null}],"outputs":[{"localized_name":"fullpath","name":"fullpath","type":"STRING","links":[252]},{"localized_name":"filename","name":"filename","type":"STRING","links":null},{"localized_name":"stem","name":"stem","type":"STRING","links":null},{"localized_name":"parent","name":"parent","type":"STRING","links":null},{"localized_name":"ext","name":"ext","type":"STRING","links":null}],"properties":{"cnr_id":"ea-nodes","ver":"6a9dd4f57e8c2fcd47364c139e49891bdea33966","Node name for S&R":"EA_ManifestIndex"},"widgets_values":["[]",27],"color":"#322","bgcolor":"#533"},{"id":173,"type":"MarkdownNote","pos":[-120,-650],"size":[727.4154052734375,366.6513977050781],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"EA Auto Trim Instructions","properties":{},"widgets_values":["## EA Auto Trim (PingPong)\n\n### picks start/end cut points by finding low-motion valleys in a smoothed frame-difference curve.\n\nmetric_size: Downscale before measuring motion (default 64). Larger = slower, a bit more stable. 32–96 is fine.\n\nsmooth: Moving-average window over the motion curve (default 5). 3–7 = good. Too high flattens valleys.\n\nwarmup_guard: Ignore this many initial diffs so “index 0” can’t auto-win (default 6). Try 6–10.\n\nsearch_first_pct: Search range for the start valley as a fraction of the curve length (default 0.25 = first 25%). Increase to push the start later.\n\nsearch_last_pct: Lower bound of the end valley search (default 0.75 = last 25%). Decrease to pull the end earlier.\n\nwarmup_rel: Warmup threshold relative to the median of later motion (default 1.2). Higher = treat more early frames as “warmup”.\n\nmin_keep: Enforce a minimum number of frames in the result. If the chosen span is shorter, it expands symmetrically (can’t exceed input length).\n\ntrim_start / trim_end: Enable trimming on each side. Turn off for one-sided cleanup.\n\nemit_debug / debug_width: Show tiny motion chart with green (start) / red (end) markers.\n\ndedupe_apex: In previews, don’t duplicate the bounce frame at the turn.\n\n## Tips\n\n- If skip_first = skip_last = 0, widen the windows (first ≈ 0.30, last ≈ 0.80) and raise warmup_guard a bit.\n\n- Preview the real loop by wiring: images → EA PingPong → Preview Animation. Use cycles / hold_first / hold_last there to lengthen the loop."],"color":"#432","bgcolor":"#653"},{"id":170,"type":"EA_ListVideos","pos":[-1020,-170],"size":[270,180],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"root_dir","name":"root_dir","type":"STRING","widget":{"name":"root_dir"},"link":null},{"localized_name":"patterns","name":"patterns","shape":7,"type":"STRING","widget":{"name":"patterns"},"link":null},{"localized_name":"recursive","name":"recursive","shape":7,"type":"BOOLEAN","widget":{"name":"recursive"},"link":null},{"localized_name":"sort","name":"sort","shape":7,"type":"BOOLEAN","widget":{"name":"sort"},"link":null}],"outputs":[{"localized_name":"manifest_json","name":"manifest_json","type":"STRING","links":[251]},{"localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"cnr_id":"ea-nodes","ver":"6a9dd4f57e8c2fcd47364c139e49891bdea33966","Node name for S&R":"EA_ListVideos"},"widgets_values":["C:\\ai\\input\\6_belle_video\\denoise\\pingpong","*.mp4;*.mov;*.mkv;*.webm;*.avi",true,true],"color":"#322","bgcolor":"#533"},{"id":167,"type":"EA_VideoLoad","pos":[-430,-170],"size":[270,360],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"path","name":"path","type":"STRING","widget":{"name":"path"},"link":252},{"localized_name":"every_n","name":"every_n","shape":7,"type":"INT","widget":{"name":"every_n"},"link":null},{"localized_name":"max_frames","name":"max_frames","shape":7,"type":"INT","widget":{"name":"max_frames"},"link":null},{"localized_name":"to_float","name":"to_float","shape":7,"type":"BOOLEAN","widget":{"name":"to_float"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[258]},{"localized_name":"fps","name":"fps","type":"FLOAT","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"duration_s","name":"duration_s","type":"FLOAT","links":null},{"localized_name":"fullpath","name":"fullpath","type":"STRING","links":null},{"localized_name":"filename","name":"filename","type":"STRING","links":null},{"localized_name":"stem","name":"stem","type":"STRING","links":null},{"localized_name":"parent","name":"parent","type":"STRING","links":null},{"localized_name":"ext","name":"ext","type":"STRING","links":null}],"properties":{"cnr_id":"ea-nodes","ver":"6a9dd4f57e8c2fcd47364c139e49891bdea33966","Node name for S&R":"EA_VideoLoad"},"widgets_values":["",1,0,true],"color":"#322","bgcolor":"#533"},{"id":176,"type":"Fast Groups Bypasser (rgthree)","pos":[-380,260],"size":[236.74765014648438,154],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#232","bgcolor":"#353"},{"id":103,"type":"VHS_VideoCombine","pos":[1710,-170],"size":[420,1054.6666259765625],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":268},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"4c7858ddd5126f7293dc3c9f6e0fc4c263cde079","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":60,"loop_count":0,"filename_prefix":"interpolate/folder/prefix_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":16,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"6_belle_test_00031.mp4","subfolder":"skip\\6_belle_test","type":"output","format":"video/h264-mp4","frame_rate":60,"workflow":"6_belle_test_00031.png","fullpath":"C:\\ai\\ComfyUI\\output\\skip\\6_belle_test\\6_belle_test_00031.mp4"}}},"color":"#332922","bgcolor":"#593930"}],"links":[[251,170,0,171,0,"STRING"],[252,171,0,167,0,"STRING"],[258,167,0,174,0,"IMAGE"],[259,174,3,163,0,"*"],[260,174,4,168,0,"*"],[261,174,5,169,0,"*"],[262,174,6,160,0,"IMAGE"],[263,174,1,132,0,"IMAGE"],[264,174,2,133,0,"IMAGE"],[265,174,0,166,0,"IMAGE"],[266,166,0,175,0,"IMAGE"],[267,175,0,177,0,"IMAGE"],[268,177,0,103,0,"IMAGE"]],"groups":[{"id":4,"title":"Trim Video","bounding":[-120,-260,1380,1150],"color":"#88A","font_size":24,"flags":{}},{"id":5,"title":"Batch Load","bounding":[-1050,-260,910,470],"color":"#A88","font_size":24,"flags":{}},{"id":6,"title":"Output","bounding":[1680,-260,470,1190],"color":"#b06634","font_size":24,"flags":{}},{"id":7,"title":"Interpolation","bounding":[1280,-260,380,480],"color":"#8AA","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.1,"offset":[-821.5925735397982,593.1999660694777]},"frontendVersion":"1.19.9","node_versions":{"ComfyUI-WanVideoWrapper":"721cd65e7b5224c70a3d20446d9d561f1732216b","comfy-core":"0.3.19","ComfyUI-VideoHelperSuite":"2c25b8b53835aaeb63f831b3137c705cf9f85dce"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"ue_links":[]},"version":0.4}